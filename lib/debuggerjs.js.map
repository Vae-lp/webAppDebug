{"version":3,"sources":["../src/debuggerjs.js"],"names":["DebuggerInstance","error","instance","errLocation","create","sendErrorData","needShow","createWraper","createContent","me","Debugger","wraper","style","parseCSS","timeStamp","Date","alertBox","document","createElement","id","cssText","wrapCss","onclick","showWraper","hideWraper","body","appendChild","count","errorCount","content","contentCss","innerHTML","message","location","setTimeout","blur","then","parentNode","removeChild","timer","Promise","res","rej","setInterval","opacity","getCssValue","clearTimeout","transform","webkitTransform","wrapHeight","parseFloat","needReport","url","method","errorObj","href","ua","navigator","userAgent","filename","getFileName","lineno","getLineNo","colno","getColNo","getLocation","data","target","attr","window","getComputedStyle","splitLocation","replace","rs","exec","RE","RegExp","$1","$2","$3","locationObj","confData","init","options","addEventListener","listenScriptError","log","arguments","isError","getStackMessage","stack","getStackLocation","isEvent","throwError","src","e","isErrorEvent","isXHR","isString","isUndefined","Error","stackArr","split","length","constructor","Event","ErrorEvent","isProgressEvent","ProgressEvent","XMLHttpRequest","Object","prototype","toString","call"],"mappings":"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","file":"debuggerjs.js","sourcesContent":["/**\n * Created by didi on 16/9/21.\n */\nimport ajax from '@fdaciuk/ajax';\nimport objectAssign from 'object-assign';\n\nclass DebuggerInstance {\n    constructor(error) {\n        this.instance = null;\n        this.errLocation = {};\n        this.create(error);\n        this.sendErrorData(error);\n    }\n\n    create(error) {\n        if (!error.needShow) return;\n\n        this.createWraper();\n        this.createContent(error);\n    }\n\n    createWraper(){\n        let me = this;\n\n        if(!Debugger.wraper){\n            let style = me.parseCSS();\n            let timeStamp = +new Date();\n            let alertBox = document.createElement('div');\n            alertBox.id = 'debugger-' + timeStamp;\n            alertBox.style.cssText = style.wrapCss;\n            alertBox.onclick = function () {\n                Debugger.showWraper ? me.hideWraper() : me.showWraper();\n            };\n            Debugger.wraper = alertBox;\n\n            document.body.appendChild(alertBox);\n        }\n    }\n\n    createContent(error){\n        let me = this;\n        let style = me.parseCSS();\n        let count = Debugger.errorCount;\n\n        let content = document.createElement('div');\n        content.style.cssText = style.contentCss;\n        content.innerHTML = `err${count}: ${error.message}<br/>location: ${error.location}`;\n\n        me.instance = content;\n\n        Debugger.wraper.appendChild(content);\n\n        Debugger.errorCount++;\n\n        setTimeout(function () {\n            // me.destroy();\n        }, 10000)\n    }\n\n    destroy() {\n        let me = this;\n        me.blur()\n            .then(function () {\n                let instance = me.instance;\n                instance && instance.parentNode && instance.parentNode.removeChild(instance);\n            })\n    }\n\n    blur() {\n        let me = this,\n            instance = this.instance,\n            timer = null;\n\n        return new Promise(function (res, rej) {\n            timer = setInterval(function () {\n                let opacity = me.getCssValue(instance, 'opacity');\n                if (opacity < 0.1) {\n                    clearTimeout(timer);\n                    res()\n                } else {\n                    instance.style.opacity = opacity - 0.1\n                }\n            }, 50)\n        });\n\n    }\n\n    showWraper(){\n        if(!Debugger.wraper) return;\n        Debugger.wraper.style.transform = 'translateY(0px)';\n        Debugger.wraper.style.webkitTransform = 'translateY(0px)';\n        Debugger.showWraper = true;\n    }\n\n    hideWraper(){\n        if(!Debugger.wraper) return;\n        let me = this;\n        let wrapHeight = me.getCssValue(Debugger.wraper, 'height');\n        Debugger.wraper.style.transform = 'translateY(' + (parseFloat(wrapHeight) - 5) +'px)';\n        Debugger.wraper.style.webkitTransform = 'translateY(' + (parseFloat(wrapHeight) - 5) +'px)';\n        Debugger.showWraper = false;\n    }\n    sendErrorData(error) {\n        if (!error.needReport) return;\n\n        const url = error.url;\n        const method = error.method;\n\n        let errorObj = {\n            url: location.href,\n            ua: navigator.userAgent,\n            filename: error.filename || this.getFileName(error.location),\n            lineno: error.lineno || this.getLineNo(error.location),\n            colno: error.colno || this.getColNo(error.location),\n            message: error.message || '',\n            location: this.getLocation(error.location) || ''\n        };\n        ajax({\n            url: url,\n            method: method,\n            data: errorObj\n        })\n    }\n\n    parseCSS(){\n        let wrapCss, contentCss;\n        wrapCss = \"position: fixed; bottom:0; opacity: 1; word-wrap: break-word;transform: translateY(0px);-webkit-transform: translateY(0px);transition: transform 0.3s ease;-webkit-transition: -webkit-transform 0.3s ease;\";\n        contentCss = \"background: rgba(0, 0, 0, 0.6);color: #fff;line-height: 1.2;padding: 0.5rem;border-bottom: 1px solid #f0f0f0;\";\n        return {wrapCss, contentCss}\n    }\n    getCssValue(target, attr) {\n        return window.getComputedStyle(target)[attr]\n    }\n\n    getFileName(location) {\n        return this.errLocation.filename ? this.errLocation.filename : this.splitLocation(location).filename\n    }\n\n    getLineNo(location) {\n        return this.errLocation.lineno ? this.errLocation.lineno : this.splitLocation(location).lineno\n    }\n\n    getColNo(location) {\n        return this.errLocation.colno ? this.errLocation.colno : this.splitLocation(location).colno\n    }\n\n    getLocation(location) {\n        return location.replace(/\\s*(\\(.*\\))\\s*/, '')\n    }\n\n    splitLocation(location) {\n        const rs = /^.*\\((.*\\.js):(\\d*):(\\d*)\\)/.exec(location);\n        const RE = RegExp;\n        let [filename,lineno,colno] = [RE.$1, RE.$2, RE.$3];\n        this.locationObj = {filename, lineno, colno} // for cache\n        return this.locationObj\n    }\n}\nconst Debugger = {\n\n    wraper: null,\n\n    showWraper: true,\n\n    errorCount: 1,\n\n    confData: {\n        needShow: true,\n        needReport: false,\n        method: 'post',\n        url: ''\n    },\n\n    init(options) {\n        let me = this;\n\n        if (options) {\n            me.confData = objectAssign(me.confData, options)\n        }\n        window.addEventListener('load',function () {\n            me.listenScriptError();\n        })\n    },\n\n    listenScriptError(){\n        let me = this;\n        window.addEventListener('error', function () {\n            me.log(arguments[0])\n        });\n    },\n    log(error){\n\n        let me = this;\n\n        error = objectAssign(error, me.confData);\n\n        if (me.isError(error)) {\n\n            error.message = me.getStackMessage(error.stack);\n            error.location = me.getStackLocation(error.stack);\n            new DebuggerInstance(error);\n\n        } else if (me.isEvent(error)) {\n            me.throwError()\n                .then(e => {\n                    var target = error.target;\n                    error.message = \"Resource Error: can't get \" + (target.src || target.href) + \".\";\n                    error.location = me.getStackLocation(e.stack);\n                    new DebuggerInstance(error);\n                });\n\n\n        } else if (me.isErrorEvent(error)) {\n\n            error.location = me.getStackLocation(error.error.stack);\n            new DebuggerInstance(error);\n\n        } else if (me.isXHR(error)) {\n\n            me.throwError()\n                .then(e => {\n                    error.message = \"AJAX Error: XMLHttpRequest failed. Did you use $.ajax? the Debugger can't get more detail from error callback. Please check your $.ajax settings.\"\n                    error.location = me.getStackLocation(e.stack);\n                    new DebuggerInstance(error);\n\n                })\n\n        } else if (me.isString(error)) {\n            me.throwError()\n                .then(e => {\n                    new DebuggerInstance({\n                        message: error,\n                        location: me.getStackLocation(e.stack)\n                    });\n                })\n\n        } else if (me.isUndefined(error)) {\n            me.throwError()\n                .then(e => {\n                    error.message = \"Params Error: Debugger.log(...) must have 1 param in it, but found none\";\n                    error.location = me.getStackLocation(e.stack);\n                    new DebuggerInstance(error);\n\n                });\n        } else {\n            me.throwError()\n                .then(e => {\n                    error.message = \"Unknown Error.\";\n                    error.location = me.getStackLocation(e.stack);\n                    new DebuggerInstance(error);\n                });\n        }\n    },\n    throwError(){\n        return new Promise(function (res, rej) {\n            try {\n                throw new Error();\n            } catch (e) {\n                res(e)\n            }\n        })\n\n    },\n    getStackMessage(stack){\n        let stackArr = stack.split(/\\n+/);\n        return stackArr[0].replace(/(^\\s+|\\s+$)/, \"\");\n    },\n    getStackLocation(stack){\n        let stackArr = stack.split(/\\n+/);\n        return stackArr[stackArr.length - 1].replace(/(^\\s+|\\s+$)/, \"\");\n    },\n    isError(error){\n        return error instanceof Error;\n    },\n    isEvent(error){\n        return error.constructor === Event;\n    },\n    isErrorEvent(error){\n        return error.constructor === ErrorEvent;\n    },\n    isProgressEvent(error){\n        return error.constructor === ProgressEvent;\n    },\n    isXHR(error){\n        return error.constructor === XMLHttpRequest;\n    },\n    isString(error){\n        return Object.prototype.toString.call(error) === \"[object String]\"\n    },\n    isUndefined(error){\n        return Object.prototype.toString.call(error) === \"[object Undefined]\"\n    }\n\n};\nexport default Debugger;"]}